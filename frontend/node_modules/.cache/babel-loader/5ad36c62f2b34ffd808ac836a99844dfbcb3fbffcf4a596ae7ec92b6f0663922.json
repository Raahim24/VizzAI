{"ast":null,"code":"var _jsxFileName = \"/Users/raahim/Desktop/Coding/Headstarter/VideoAI/frontend/src/App.js\",\n  _s = $RefreshSig$();\n// App.js - Simple Video Analysis App\nimport React, { useState, useRef, useEffect } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8000';\nfunction App() {\n  _s();\n  // Simple state management - each variable has one clear purpose\n  const [videoUrl, setVideoUrl] = useState(''); // YouTube URL input\n  const [question, setQuestion] = useState(''); // User's question\n  const [messages, setMessages] = useState([]); // Chat messages\n  const [loading, setLoading] = useState(false); // Loading state\n  const [videoId, setVideoId] = useState(''); // Current video ID\n  const [videoTitle, setVideoTitle] = useState(''); // Video title\n  const [timestamps, setTimestamps] = useState([]); // Auto-generated timestamps\n  const [error, setError] = useState(''); // Error messages\n  const [notifications, setNotifications] = useState([]); // Right-side notifications\n\n  const chatRef = useRef(null);\n\n  // Auto-scroll chat when new messages arrive\n  useEffect(() => {\n    if (chatRef.current) {\n      chatRef.current.scrollTop = chatRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  // Show notification (right side alert)\n  const showNotification = (message, type = 'info', persistent = false) => {\n    const id = Date.now();\n    const newNotification = {\n      id,\n      message,\n      type,\n      persistent\n    };\n    setNotifications(prev => [...prev, newNotification]);\n\n    // Auto-remove after 4 seconds (unless it's persistent)\n    if (!persistent) {\n      setTimeout(() => {\n        setNotifications(prev => prev.filter(n => n.id !== id));\n      }, 4000);\n    }\n    return id; // Return ID so we can remove it manually later\n  };\n\n  // Remove specific notification by ID\n  const removeNotification = id => {\n    setNotifications(prev => prev.filter(n => n.id !== id));\n  };\n\n  // Get YouTube video ID from URL\n  const getVideoId = url => {\n    const patterns = [/youtube\\.com\\/watch\\?v=([^&\\n?#]+)/, /youtu\\.be\\/([^&\\n?#]+)/, /youtube\\.com\\/embed\\/([^&\\n?#]+)/];\n    for (let pattern of patterns) {\n      const match = url.match(pattern);\n      if (match) return match[1];\n    }\n    return null;\n  };\n\n  // Load video and auto-generate timestamps\n  // üéØ FIXED: Use real timestamp data from backend instead of manual generation\n  const loadVideo = async () => {\n    console.log('üîç DEBUG: loadVideo called with new code!'); // Add this line first\n    const id = getVideoId(videoUrl);\n    if (!id) {\n      setError('Please enter a valid YouTube URL');\n      return;\n    }\n    setVideoId(id);\n    setMessages([]);\n    setTimestamps([]);\n    setError('');\n\n    // Show persistent loading notification for video processing\n    const videoLoadingId = showNotification('üé¨ Loading video and extracting transcript', 'loading', true);\n    try {\n      // First, try to get the transcript to ensure video is processable\n      const transcriptResponse = await fetch(`${API_BASE_URL}/process-youtube`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          url: videoUrl\n        })\n      });\n      const transcriptData = await transcriptResponse.json();\n\n      // üîç ADD THIS DEBUG LINE:\n      console.log('üîç DEBUG - API Response:', {\n        success: transcriptData.success,\n        has_timestamps: transcriptData.has_timestamps,\n        structured_transcript: transcriptData.structured_transcript ? 'Present' : 'Missing',\n        method_used: transcriptData.method_used,\n        total_segments: transcriptData.total_segments\n      });\n      if (!transcriptData.success) {\n        removeNotification(videoLoadingId);\n        showNotification('‚ùå Failed to process video: ' + transcriptData.error, 'error');\n        setError('Could not extract transcript from this video');\n        return;\n      }\n\n      // Video processed successfully - remove loading notification\n      removeNotification(videoLoadingId);\n      showNotification('‚úÖ Video transcript extracted successfully!', 'success');\n\n      // Set video title from transcript response\n      setVideoTitle(transcriptData.video_title || 'Unknown Video');\n\n      // Add welcome message\n      setMessages([{\n        type: 'system',\n        content: `Video loaded! Ask questions about \"${transcriptData.video_title || 'this video'}\".`,\n        time: new Date().toLocaleTimeString()\n      }]);\n\n      // üéØ NEW: Use real timestamp data from backend instead of generating manually\n      if (transcriptData.has_timestamps && transcriptData.structured_transcript) {\n        generateRealTimestamps(transcriptData.structured_transcript);\n      } else {\n        // Fallback: Generate chapters using AI if no structured data\n        await generateTimestamps(videoUrl);\n      }\n    } catch (error) {\n      removeNotification(videoLoadingId);\n      showNotification('‚ùå Connection error: ' + error.message, 'error');\n      setError('Failed to connect to server');\n    }\n  };\n\n  // üéØ NEW: Use real structured timestamp data to create meaningful chapters\n  // üéØ SIMPLIFIED: Replace these 3 functions in your App.js for HH:MM:SS format only\n\n  // ‚úÖ FIX 1: Replace generateRealTimestamps function (around line 102)\n  const generateRealTimestamps = structuredTranscript => {\n    const timestampLoadingId = showNotification('üïê Creating chapters from real timestamps...', 'loading', true);\n    try {\n      const chapters = [];\n      const totalSegments = structuredTranscript.length;\n\n      // Create chapters every ~2-3 minutes (adaptive based on video length)\n      const segmentsPerChapter = Math.max(50, Math.floor(totalSegments / 15)); // Aim for ~15 chapters max\n\n      for (let i = 0; i < totalSegments; i += segmentsPerChapter) {\n        const segment = structuredTranscript[i];\n        if (segment && segment.text && segment.start_formatted) {\n          // Create meaningful chapter title from content\n          let title = segment.text.trim();\n\n          // Clean up common phrases\n          title = title.replace(/^(welcome to|hello|hi there|today we|in this)/i, '');\n          title = title.replace(/^(fact|number|tip)( \\d+)?:?/i, '');\n\n          // Take first few meaningful words\n          const words = title.split(' ').filter(word => word.length > 2 && !['the', 'and', 'but', 'for', 'are', 'will', 'can', 'you', 'your'].includes(word.toLowerCase()));\n          const chapterTitle = words.slice(0, 3).join(' ');\n          if (chapterTitle.length > 3) {\n            // üéØ SIMPLE: Always expect HH:MM:SS format from backend\n            const [hours, minutes, seconds] = segment.start_formatted.split(':').map(Number);\n            const totalSeconds = hours * 3600 + minutes * 60 + seconds;\n            chapters.push({\n              time: segment.start_formatted,\n              // Use HH:MM:SS format directly\n              title: chapterTitle.length > 30 ? chapterTitle.substring(0, 27) + '...' : chapterTitle,\n              seconds: totalSeconds\n            });\n          }\n        }\n      }\n\n      // Add final chapter\n      if (structuredTranscript.length > 0) {\n        const lastSegment = structuredTranscript[structuredTranscript.length - 1];\n        if (lastSegment && lastSegment.end_formatted) {\n          const [hours, minutes, seconds] = lastSegment.end_formatted.split(':').map(Number);\n          const totalSeconds = hours * 3600 + minutes * 60 + seconds;\n          chapters.push({\n            time: lastSegment.end_formatted,\n            title: 'Conclusion',\n            seconds: totalSeconds\n          });\n        }\n      }\n      setTimestamps(chapters);\n      removeNotification(timestampLoadingId);\n      showNotification('‚úÖ Real timestamps generated!', 'success');\n    } catch (error) {\n      console.error('Error generating real timestamps:', error);\n      removeNotification(timestampLoadingId);\n      showNotification('‚ö†Ô∏è Using fallback timestamp generation', 'error');\n      // Fallback to AI generation\n      generateTimestamps(videoUrl);\n    }\n  };\n\n  // ‚úÖ FIX 2: Replace generateTimestamps function (around line 175) \n  const generateTimestamps = async url => {\n    const timestampLoadingId = showNotification('üïê Generating timestamps...', 'loading', true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/smart-question`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          url: url,\n          question: \"Create video chapters with short titles. Format: '0:00:00 - Introduction', '0:02:30 - Main Topic', etc. Keep titles under 5 words.\"\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        // Update video title if we got it from this response\n        if (data.video_title && !videoTitle) {\n          setVideoTitle(data.video_title);\n        }\n\n        // üéØ SIMPLE: Extract HH:MM:SS timestamps only\n        const lines = data.answer.split('\\n');\n        const newTimestamps = [];\n        lines.forEach(line => {\n          const match = line.match(/(\\d{1,2}):(\\d{2}):(\\d{2})\\s*[-‚Äì]\\s*(.+)/);\n          if (match) {\n            const hours = parseInt(match[1]);\n            const minutes = parseInt(match[2]);\n            const seconds = parseInt(match[3]);\n            const title = match[4].trim().replace(/\\*\\*/g, ''); // Remove markdown\n\n            // Always display as HH:MM:SS\n            const displayTime = `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\n            newTimestamps.push({\n              time: displayTime,\n              title: title.length > 40 ? title.substring(0, 37) + '...' : title,\n              seconds: hours * 3600 + minutes * 60 + seconds\n            });\n          }\n        });\n        setTimestamps(newTimestamps);\n        removeNotification(timestampLoadingId);\n        showNotification('‚úÖ AI timestamps generated!', 'success');\n      } else {\n        removeNotification(timestampLoadingId);\n        showNotification('‚ö†Ô∏è Could not generate timestamps', 'error');\n      }\n    } catch (error) {\n      removeNotification(timestampLoadingId);\n      showNotification('‚ùå Failed to generate timestamps', 'error');\n    }\n  };\n\n  // ‚úÖ FIX 3: Replace formatText function (around line 264)\n  const formatText = text => {\n    if (typeof text !== 'string') return text;\n\n    // Clean up markdown and convert to HTML\n    let formattedText = text.replace(/\\*\\*([^*]+)\\*\\*/g, '<strong class=\"bold-text\">$1</strong>') // **bold**\n    .replace(/\\*([^*]+)\\*/g, '<em class=\"italic-text\">$1</em>') // *italic*\n    // üéØ SIMPLE: Only look for HH:MM:SS format timestamps\n    .replace(/\\((\\d{1,2}):(\\d{2}):(\\d{2})\\)/g, '<span class=\"timestamp-placeholder\">$1:$2:$3</span>');\n\n    // Split by timestamp placeholders and create clickable buttons\n    const parts = formattedText.split(/<span class=\"timestamp-placeholder\">(\\d{1,2}:\\d{2}:\\d{2})<\\/span>/);\n    const result = [];\n    for (let i = 0; i < parts.length; i++) {\n      if (i % 2 === 0) {\n        // Regular text with HTML formatting\n        if (parts[i]) {\n          result.push(/*#__PURE__*/_jsxDEV(\"span\", {\n            dangerouslySetInnerHTML: {\n              __html: parts[i]\n            }\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 11\n          }, this));\n        }\n      } else {\n        // üéØ SIMPLE: Parse HH:MM:SS format only\n        const [hours, minutes, seconds] = parts[i].split(':').map(Number);\n        const totalSeconds = hours * 3600 + minutes * 60 + seconds;\n        result.push(/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"timestamp-link\",\n          onClick: () => jumpToTime(totalSeconds),\n          children: parts[i]\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 9\n        }, this));\n      }\n    }\n    return result.length > 0 ? result : text;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notifications\",\n      children: notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `notification ${notification.type}`,\n        children: notification.message\n      }, notification.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83C\\uDFAC Video Analysis AI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Ask questions about any YouTube video!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"url-input\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCF9 Load YouTube Video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Paste YouTube URL here...\",\n              value: videoUrl,\n              onChange: e => setVideoUrl(e.target.value),\n              className: \"url-field\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: loadVideo,\n              className: \"load-btn\",\n              children: \"Load Video\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), videoId && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-player\",\n          children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n            id: \"youtube-player\",\n            src: `https://www.youtube.com/embed/${videoId}`,\n            title: \"YouTube video player\",\n            frameBorder: \"0\",\n            allowFullScreen: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }, this), timestamps.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timestamps-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\uD83D\\uDD50 Video Chapters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Click any timestamp to jump to that moment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timestamps-list\",\n            children: timestamps.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"timestamp-item\",\n              onClick: () => jumpToTime(item.seconds),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"time\",\n                children: item.time\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"title\",\n                children: item.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCAC Ask Questions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this), videoTitle && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"video-title\",\n            children: [\"\\uD83C\\uDFAC \", videoTitle]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-messages\",\n          ref: chatRef,\n          children: [messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"welcome\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Welcome! \\uD83D\\uDE80\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Load a video above and start asking questions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"examples\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"example\",\n                children: \"\\uD83D\\uDCAC \\\"What is this video about?\\\"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"example\",\n                children: \"\\uD83C\\uDFA8 \\\"What color is the car?\\\"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"example\",\n                children: \"\\uD83D\\uDCDD \\\"Summarize the main points\\\"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this), messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message ${message.type}`,\n            children: [message.type === 'system' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"system-msg\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: message.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 19\n            }, this), message.type === 'user' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-msg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"avatar\",\n                children: \"You\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text\",\n                  children: message.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 19\n            }, this), message.type === 'ai' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ai-msg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"avatar\",\n                children: \"\\uD83E\\uDD16\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"badge\",\n                  children: message.method === 'Visual Analysis' ? 'üëÅÔ∏è Visual' : 'üìù Text'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text\",\n                  children: formatText(message.content)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this)), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message ai\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ai-msg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"avatar\",\n                children: \"\\uD83E\\uDD16\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"loading\",\n                  children: \"Analyzing video\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error\",\n          children: [\"\\u26A0\\uFE0F \", error, /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setError(''),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-input\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Ask any question about the video...\",\n              value: question,\n              onChange: e => setQuestion(e.target.value),\n              onKeyPress: handleKeyPress,\n              disabled: loading,\n              className: \"question-field\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: askQuestion,\n              disabled: loading || !question.trim() || !videoId,\n              className: \"ask-btn\",\n              children: loading ? '‚è≥' : 'üöÄ'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 13\n          }, this), videoId && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hint\",\n            children: \"\\uD83D\\uDCA1 Ask about content, visuals, or request summaries!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"footer\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u26A1 Powered by AI \\u2022 \\uD83C\\uDFAF Smart Analysis \\u2022 \\u23F0 Auto-Timestamps\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"+EgwkWHNCUpaBbjHwY60bEu6vNc=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","API_BASE_URL","App","_s","videoUrl","setVideoUrl","question","setQuestion","messages","setMessages","loading","setLoading","videoId","setVideoId","videoTitle","setVideoTitle","timestamps","setTimestamps","error","setError","notifications","setNotifications","chatRef","current","scrollTop","scrollHeight","showNotification","message","type","persistent","id","Date","now","newNotification","prev","setTimeout","filter","n","removeNotification","getVideoId","url","patterns","pattern","match","loadVideo","console","log","videoLoadingId","transcriptResponse","fetch","method","headers","body","JSON","stringify","transcriptData","json","success","has_timestamps","structured_transcript","method_used","total_segments","video_title","content","time","toLocaleTimeString","generateRealTimestamps","generateTimestamps","structuredTranscript","timestampLoadingId","chapters","totalSegments","length","segmentsPerChapter","Math","max","floor","i","segment","text","start_formatted","title","trim","replace","words","split","word","includes","toLowerCase","chapterTitle","slice","join","hours","minutes","seconds","map","Number","totalSeconds","push","substring","lastSegment","end_formatted","response","data","lines","answer","newTimestamps","forEach","line","parseInt","displayTime","toString","padStart","formatText","formattedText","parts","result","dangerouslySetInnerHTML","__html","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","jumpToTime","children","notification","placeholder","value","onChange","e","target","src","frameBorder","allowFullScreen","item","index","ref","onKeyPress","handleKeyPress","disabled","askQuestion","_c","$RefreshReg$"],"sources":["/Users/raahim/Desktop/Coding/Headstarter/VideoAI/frontend/src/App.js"],"sourcesContent":["// App.js - Simple Video Analysis App\nimport React, { useState, useRef, useEffect } from 'react';\nimport './App.css';\n\nconst API_BASE_URL = 'http://localhost:8000';\n\nfunction App() {\n  // Simple state management - each variable has one clear purpose\n  const [videoUrl, setVideoUrl] = useState('');           // YouTube URL input\n  const [question, setQuestion] = useState('');           // User's question\n  const [messages, setMessages] = useState([]);           // Chat messages\n  const [loading, setLoading] = useState(false);          // Loading state\n  const [videoId, setVideoId] = useState('');             // Current video ID\n  const [videoTitle, setVideoTitle] = useState('');       // Video title\n  const [timestamps, setTimestamps] = useState([]);       // Auto-generated timestamps\n  const [error, setError] = useState('');                 // Error messages\n  const [notifications, setNotifications] = useState([]); // Right-side notifications\n  \n  const chatRef = useRef(null);\n\n  // Auto-scroll chat when new messages arrive\n  useEffect(() => {\n    if (chatRef.current) {\n      chatRef.current.scrollTop = chatRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  // Show notification (right side alert)\n  const showNotification = (message, type = 'info', persistent = false) => {\n    const id = Date.now();\n    const newNotification = { id, message, type, persistent };\n    setNotifications(prev => [...prev, newNotification]);\n    \n    // Auto-remove after 4 seconds (unless it's persistent)\n    if (!persistent) {\n      setTimeout(() => {\n        setNotifications(prev => prev.filter(n => n.id !== id));\n      }, 4000);\n    }\n    \n    return id; // Return ID so we can remove it manually later\n  };\n\n  // Remove specific notification by ID\n  const removeNotification = (id) => {\n    setNotifications(prev => prev.filter(n => n.id !== id));\n  };\n\n  // Get YouTube video ID from URL\n  const getVideoId = (url) => {\n    const patterns = [\n      /youtube\\.com\\/watch\\?v=([^&\\n?#]+)/,\n      /youtu\\.be\\/([^&\\n?#]+)/,\n      /youtube\\.com\\/embed\\/([^&\\n?#]+)/\n    ];\n    \n    for (let pattern of patterns) {\n      const match = url.match(pattern);\n      if (match) return match[1];\n    }\n    return null;\n  };\n\n  // Load video and auto-generate timestamps\n// üéØ FIXED: Use real timestamp data from backend instead of manual generation\nconst loadVideo = async () => {\n  console.log('üîç DEBUG: loadVideo called with new code!'); // Add this line first\n  const id = getVideoId(videoUrl);\n  if (!id) {\n    setError('Please enter a valid YouTube URL');\n    return;\n  }\n\n  setVideoId(id);\n  setMessages([]);\n  setTimestamps([]);\n  setError('');\n  \n  // Show persistent loading notification for video processing\n  const videoLoadingId = showNotification('üé¨ Loading video and extracting transcript', 'loading', true);\n  \n  try {\n    // First, try to get the transcript to ensure video is processable\n    const transcriptResponse = await fetch(`${API_BASE_URL}/process-youtube`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ url: videoUrl })\n    });\n\n  const transcriptData = await transcriptResponse.json();\n\n  // üîç ADD THIS DEBUG LINE:\n  console.log('üîç DEBUG - API Response:', {\n    success: transcriptData.success,\n    has_timestamps: transcriptData.has_timestamps,\n    structured_transcript: transcriptData.structured_transcript ? 'Present' : 'Missing',\n    method_used: transcriptData.method_used,\n    total_segments: transcriptData.total_segments\n  });\n\n  if (!transcriptData.success) {\n      removeNotification(videoLoadingId);\n      showNotification('‚ùå Failed to process video: ' + transcriptData.error, 'error');\n      setError('Could not extract transcript from this video');\n      return;\n    }\n\n    // Video processed successfully - remove loading notification\n    removeNotification(videoLoadingId);\n    showNotification('‚úÖ Video transcript extracted successfully!', 'success');\n    \n    // Set video title from transcript response\n    setVideoTitle(transcriptData.video_title || 'Unknown Video');\n    \n    // Add welcome message\n    setMessages([{\n      type: 'system',\n      content: `Video loaded! Ask questions about \"${transcriptData.video_title || 'this video'}\".`,\n      time: new Date().toLocaleTimeString()\n    }]);\n\n    // üéØ NEW: Use real timestamp data from backend instead of generating manually\n    if (transcriptData.has_timestamps && transcriptData.structured_transcript) {\n      generateRealTimestamps(transcriptData.structured_transcript);\n    } else {\n      // Fallback: Generate chapters using AI if no structured data\n      await generateTimestamps(videoUrl);\n    }\n    \n  } catch (error) {\n    removeNotification(videoLoadingId);\n    showNotification('‚ùå Connection error: ' + error.message, 'error');\n    setError('Failed to connect to server');\n  }\n};\n\n// üéØ NEW: Use real structured timestamp data to create meaningful chapters\n// üéØ SIMPLIFIED: Replace these 3 functions in your App.js for HH:MM:SS format only\n\n// ‚úÖ FIX 1: Replace generateRealTimestamps function (around line 102)\nconst generateRealTimestamps = (structuredTranscript) => {\n  const timestampLoadingId = showNotification('üïê Creating chapters from real timestamps...', 'loading', true);\n  \n  try {\n    const chapters = [];\n    const totalSegments = structuredTranscript.length;\n    \n    // Create chapters every ~2-3 minutes (adaptive based on video length)\n    const segmentsPerChapter = Math.max(50, Math.floor(totalSegments / 15)); // Aim for ~15 chapters max\n    \n    for (let i = 0; i < totalSegments; i += segmentsPerChapter) {\n      const segment = structuredTranscript[i];\n      \n      if (segment && segment.text && segment.start_formatted) {\n        // Create meaningful chapter title from content\n        let title = segment.text.trim();\n        \n        // Clean up common phrases\n        title = title.replace(/^(welcome to|hello|hi there|today we|in this)/i, '');\n        title = title.replace(/^(fact|number|tip)( \\d+)?:?/i, '');\n        \n        // Take first few meaningful words\n        const words = title.split(' ').filter(word => \n          word.length > 2 && \n          !['the', 'and', 'but', 'for', 'are', 'will', 'can', 'you', 'your'].includes(word.toLowerCase())\n        );\n        \n        const chapterTitle = words.slice(0, 3).join(' ');\n        \n        if (chapterTitle.length > 3) {\n          // üéØ SIMPLE: Always expect HH:MM:SS format from backend\n          const [hours, minutes, seconds] = segment.start_formatted.split(':').map(Number);\n          const totalSeconds = hours * 3600 + minutes * 60 + seconds;\n          \n          chapters.push({\n            time: segment.start_formatted, // Use HH:MM:SS format directly\n            title: chapterTitle.length > 30 ? chapterTitle.substring(0, 27) + '...' : chapterTitle,\n            seconds: totalSeconds\n          });\n        }\n      }\n    }\n    \n    // Add final chapter\n    if (structuredTranscript.length > 0) {\n      const lastSegment = structuredTranscript[structuredTranscript.length - 1];\n      if (lastSegment && lastSegment.end_formatted) {\n        const [hours, minutes, seconds] = lastSegment.end_formatted.split(':').map(Number);\n        const totalSeconds = hours * 3600 + minutes * 60 + seconds;\n        \n        chapters.push({\n          time: lastSegment.end_formatted,\n          title: 'Conclusion',\n          seconds: totalSeconds\n        });\n      }\n    }\n    \n    setTimestamps(chapters);\n    removeNotification(timestampLoadingId);\n    showNotification('‚úÖ Real timestamps generated!', 'success');\n    \n  } catch (error) {\n    console.error('Error generating real timestamps:', error);\n    removeNotification(timestampLoadingId);\n    showNotification('‚ö†Ô∏è Using fallback timestamp generation', 'error');\n    // Fallback to AI generation\n    generateTimestamps(videoUrl);\n  }\n};\n\n// ‚úÖ FIX 2: Replace generateTimestamps function (around line 175) \nconst generateTimestamps = async (url) => {\n  const timestampLoadingId = showNotification('üïê Generating timestamps...', 'loading', true);\n  \n  try {\n    const response = await fetch(`${API_BASE_URL}/smart-question`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        url: url,\n        question: \"Create video chapters with short titles. Format: '0:00:00 - Introduction', '0:02:30 - Main Topic', etc. Keep titles under 5 words.\"\n      })\n    });\n\n    const data = await response.json();\n\n    if (data.success) {\n      // Update video title if we got it from this response\n      if (data.video_title && !videoTitle) {\n        setVideoTitle(data.video_title);\n      }\n      \n      // üéØ SIMPLE: Extract HH:MM:SS timestamps only\n      const lines = data.answer.split('\\n');\n      const newTimestamps = [];\n      \n      lines.forEach(line => {\n        const match = line.match(/(\\d{1,2}):(\\d{2}):(\\d{2})\\s*[-‚Äì]\\s*(.+)/);\n        if (match) {\n          const hours = parseInt(match[1]);\n          const minutes = parseInt(match[2]);\n          const seconds = parseInt(match[3]);\n          const title = match[4].trim().replace(/\\*\\*/g, ''); // Remove markdown\n          \n          // Always display as HH:MM:SS\n          const displayTime = `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\n          \n          newTimestamps.push({\n            time: displayTime,\n            title: title.length > 40 ? title.substring(0, 37) + '...' : title,\n            seconds: hours * 3600 + minutes * 60 + seconds\n          });\n        }\n      });\n      \n      setTimestamps(newTimestamps);\n      removeNotification(timestampLoadingId);\n      showNotification('‚úÖ AI timestamps generated!', 'success');\n    } else {\n      removeNotification(timestampLoadingId);\n      showNotification('‚ö†Ô∏è Could not generate timestamps', 'error');\n    }\n  } catch (error) {\n    removeNotification(timestampLoadingId);\n    showNotification('‚ùå Failed to generate timestamps', 'error');\n  }\n};\n\n// ‚úÖ FIX 3: Replace formatText function (around line 264)\nconst formatText = (text) => {\n  if (typeof text !== 'string') return text;\n  \n  // Clean up markdown and convert to HTML\n  let formattedText = text\n    .replace(/\\*\\*([^*]+)\\*\\*/g, '<strong class=\"bold-text\">$1</strong>')  // **bold**\n    .replace(/\\*([^*]+)\\*/g, '<em class=\"italic-text\">$1</em>')            // *italic*\n    // üéØ SIMPLE: Only look for HH:MM:SS format timestamps\n    .replace(/\\((\\d{1,2}):(\\d{2}):(\\d{2})\\)/g, '<span class=\"timestamp-placeholder\">$1:$2:$3</span>');\n  \n  // Split by timestamp placeholders and create clickable buttons\n  const parts = formattedText.split(/<span class=\"timestamp-placeholder\">(\\d{1,2}:\\d{2}:\\d{2})<\\/span>/);\n  const result = [];\n  \n  for (let i = 0; i < parts.length; i++) {\n    if (i % 2 === 0) {\n      // Regular text with HTML formatting\n      if (parts[i]) {\n        result.push(\n          <span \n            key={i} \n            dangerouslySetInnerHTML={{ __html: parts[i] }}\n          />\n        );\n      }\n    } else {\n      // üéØ SIMPLE: Parse HH:MM:SS format only\n      const [hours, minutes, seconds] = parts[i].split(':').map(Number);\n      const totalSeconds = hours * 3600 + minutes * 60 + seconds;\n      \n      result.push(\n        <button\n          key={i}\n          className=\"timestamp-link\"\n          onClick={() => jumpToTime(totalSeconds)}\n        >\n          {parts[i]}\n        </button>\n      );\n    }\n  }\n  \n  return result.length > 0 ? result : text;\n};\n\n  return (\n    <div className=\"App\">\n      {/* Notifications - Right Side */}\n      <div className=\"notifications\">\n        {notifications.map(notification => (\n          <div key={notification.id} className={`notification ${notification.type}`}>\n            {notification.message}\n          </div>\n        ))}\n      </div>\n\n      {/* Header */}\n      <header className=\"header\">\n        <h1>üé¨ Video Analysis AI</h1>\n        <p>Ask questions about any YouTube video!</p>\n      </header>\n\n      {/* Main Content */}\n      <div className=\"main-content\">\n        \n        {/* Video Section */}\n        <div className=\"video-section\">\n          {/* URL Input */}\n          <div className=\"url-input\">\n            <h3>üìπ Load YouTube Video</h3>\n            <div className=\"input-group\">\n              <input\n                type=\"text\"\n                placeholder=\"Paste YouTube URL here...\"\n                value={videoUrl}\n                onChange={(e) => setVideoUrl(e.target.value)}\n                className=\"url-field\"\n              />\n              <button onClick={loadVideo} className=\"load-btn\">\n                Load Video\n              </button>\n            </div>\n          </div>\n\n          {/* YouTube Player */}\n          {videoId && (\n            <div className=\"video-player\">\n              <iframe\n                id=\"youtube-player\"\n                src={`https://www.youtube.com/embed/${videoId}`}\n                title=\"YouTube video player\"\n                frameBorder=\"0\"\n                allowFullScreen\n              ></iframe>\n            </div>\n          )}\n\n          {/* Auto-Generated Timestamps */}\n          {timestamps.length > 0 && (\n            <div className=\"timestamps-section\">\n              <h4>üïê Video Chapters</h4>\n              <p>Click any timestamp to jump to that moment</p>\n              <div className=\"timestamps-list\">\n                {timestamps.map((item, index) => (\n                  <div\n                    key={index}\n                    className=\"timestamp-item\"\n                    onClick={() => jumpToTime(item.seconds)}\n                  >\n                    <span className=\"time\">{item.time}</span>\n                    <span className=\"title\">{item.title}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Chat Section */}\n        <div className=\"chat-section\">\n          <div className=\"chat-header\">\n            <h3>üí¨ Ask Questions</h3>\n            {videoTitle && <div className=\"video-title\">üé¨ {videoTitle}</div>}\n          </div>\n          \n          {/* Chat Messages */}\n          <div className=\"chat-messages\" ref={chatRef}>\n            {messages.length === 0 && (\n              <div className=\"welcome\">\n                <h4>Welcome! üöÄ</h4>\n                <p>Load a video above and start asking questions</p>\n                <div className=\"examples\">\n                  <div className=\"example\">üí¨ \"What is this video about?\"</div>\n                  <div className=\"example\">üé® \"What color is the car?\"</div>\n                  <div className=\"example\">üìù \"Summarize the main points\"</div>\n                </div>\n              </div>\n            )}\n\n            {messages.map((message, index) => (\n              <div key={index} className={`message ${message.type}`}>\n                \n                {/* System Message */}\n                {message.type === 'system' && (\n                  <div className=\"system-msg\">\n                    <span>{message.content}</span>\n                  </div>\n                )}\n\n                {/* User Message */}\n                {message.type === 'user' && (\n                  <div className=\"user-msg\">\n                    <div className=\"avatar\">You</div>\n                    <div className=\"content\">\n                      <div className=\"text\">{message.content}</div>\n                    </div>\n                  </div>\n                )}\n\n                {/* AI Message */}\n                {message.type === 'ai' && (\n                  <div className=\"ai-msg\">\n                    <div className=\"avatar\">ü§ñ</div>\n                    <div className=\"content\">\n                      <div className=\"badge\">\n                        {message.method === 'Visual Analysis' ? 'üëÅÔ∏è Visual' : 'üìù Text'}\n                      </div>\n                      <div className=\"text\">\n                        {formatText(message.content)}\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            ))}\n\n            {/* Loading Message */}\n            {loading && (\n              <div className=\"message ai\">\n                <div className=\"ai-msg\">\n                  <div className=\"avatar\">ü§ñ</div>\n                  <div className=\"content\">\n                    <div className=\"loading\">Analyzing video</div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Error Display */}\n          {error && (\n            <div className=\"error\">\n              ‚ö†Ô∏è {error}\n              <button onClick={() => setError('')}>√ó</button>\n            </div>\n          )}\n\n          {/* Question Input */}\n          <div className=\"question-input\">\n            <div className=\"input-group\">\n              <input\n                type=\"text\"\n                placeholder=\"Ask any question about the video...\"\n                value={question}\n                onChange={(e) => setQuestion(e.target.value)}\n                onKeyPress={handleKeyPress}\n                disabled={loading}\n                className=\"question-field\"\n              />\n              <button \n                onClick={askQuestion}\n                disabled={loading || !question.trim() || !videoId}\n                className=\"ask-btn\"\n              >\n                {loading ? '‚è≥' : 'üöÄ'}\n              </button>\n            </div>\n            \n            {videoId && (\n              <div className=\"hint\">\n                üí° Ask about content, visuals, or request summaries!\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Footer */}\n      <footer className=\"footer\">\n        <p>‚ö° Powered by AI ‚Ä¢ üéØ Smart Analysis ‚Ä¢ ‚è∞ Auto-Timestamps</p>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}